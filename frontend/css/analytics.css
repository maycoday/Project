/* ═══════════════════════════════════════════════════
   AAWAAZ ANALYTICS — GLASSMORPHISM PRISM THEME
   Modern frosted-glass UI · Lightweight · No JS changes
═══════════════════════════════════════════════════ */

*{margin:0;padding:0;box-sizing:border-box}
:root{
  --saffron:#FF6F3C;
  --saffron2:#e05a00;
  --white:#FFFFFF;
  --green:#20E070;
  --green2:#0d6b06;
  --navy:#0B1F3A;
  --navy2:#0d2647;
  --navy3:#132d52;
  --ashoka:#1a3a6b;
  --gold:#E0C068;
  --gold2:#b8962e;
  --cream:#0e1525;
  --cream2:#131d30;
  --paper:#111a2b;
  --ink:#e8eaf0;
  --ink2:#c8cdd8;
  --muted:#8892a4;
  --muted2:#6a7388;
  --border:rgba(255,255,255,0.08);
  --border2:rgba(255,255,255,0.12);
  --success:#20E070;
  --danger:#ff4757;
  --warn:#ffb347;
  --cipher:#0B1F3A;
  --radius:14px;
  --radius-sm:10px;
  --radius-lg:20px;
  --shadow-sm:0 2px 12px rgba(0,0,0,0.2);
  --shadow-md:0 4px 24px rgba(0,0,0,0.3);
  --shadow-lg:0 8px 40px rgba(0,0,0,0.4);
  --transition:all 0.35s cubic-bezier(0.4,0,0.2,1);

  /* Legacy pattern detection variables */
  --bg: var(--cream);
  --bg2: var(--cream2);
  --bg3: var(--paper);
  --card: rgba(255,255,255,0.04);
  --card2: rgba(255,255,255,0.06);
  --bdr: rgba(255,255,255,0.08);
  --bdr2: rgba(255,255,255,0.12);
  --s: var(--saffron);
  --s2: var(--saffron2);
  --sg: rgba(255,111,60,0.08);
  --g: var(--green);
  --gg: rgba(32,224,112,0.08);
  --blue: #60A5FA;
  --cyan: #22D3EE;
  --rose: #FB7185;
  --purp: #A78BFA;
  --dim: var(--muted);
  --dim2: var(--muted2);
  --r: var(--radius);
  --r2: var(--radius-lg);
  --ff-head: 'Crimson Pro',Georgia,serif;
  --ff-body: 'Barlow',sans-serif;
  --ff-mono: 'DM Mono',monospace;

  /* Risk colors */
  --risk-0: rgba(30,58,47,0.7);
  --risk-1: rgba(20,90,50,0.7);
  --risk-2: rgba(30,132,73,0.7);
  --risk-3: rgba(243,156,18,0.3);
  --risk-4: rgba(230,126,34,0.4);
  --risk-5: rgba(231,76,60,0.4);

  /* Glass tokens */
  --glass:rgba(255,255,255,0.04);
  --glass-md:rgba(255,255,255,0.06);
  --glass-lg:rgba(255,255,255,0.08);
  --glass-border:rgba(255,255,255,0.10);
  --glass-border-light:rgba(255,255,255,0.18);
  --blur:blur(20px);
  --blur-sm:blur(12px);
}

html{scroll-behavior:smooth}
body{
  font-family:var(--ff-body);
  background:#080d18;
  background-image:
    radial-gradient(ellipse at 20% 0%, rgba(255,111,60,0.08) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 100%, rgba(32,224,112,0.06) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 50%, rgba(147,130,220,0.04) 0%, transparent 60%);
  background-attachment:fixed;
  color:var(--ink);
  min-height:100vh;
  font-size:13px;
  overflow-x:hidden;
  padding-top:118px;
}

/* SCROLLBAR */
::-webkit-scrollbar{width:4px;height:4px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.1);border-radius:4px}
::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,0.2)}

.serif{font-family:'Crimson Pro',Georgia,serif}
.mono{font-family:'DM Mono',monospace}

/* MODE SWITCHER */
#modeSwitcher{
  position:fixed;top:0;left:0;right:0;z-index:2500;
  background:rgba(8,13,24,0.7);
  backdrop-filter:var(--blur);
  -webkit-backdrop-filter:var(--blur);
  border-bottom:1px solid var(--glass-border);
  padding:0 24px;
  height:66px;
  display:flex;align-items:center;justify-content:space-between;
}
.mode-brand{
  font-family:var(--ff-head);font-size:14px;color:rgba(255,255,255,0.9);
  display:flex;align-items:center;gap:10px;letter-spacing:0.02em;
}
.brand-icon{
  width:28px;height:28px;
  background:linear-gradient(135deg, var(--saffron), #ff8f5c);
  border-radius:8px;
  display:flex;align-items:center;justify-content:center;
  font-family:var(--ff-mono);font-size:14px;font-weight:700;color:#fff;
  flex-shrink:0;
  box-shadow:0 2px 12px rgba(255,111,60,0.35);
}
.mode-toggle{
  display:flex;align-items:center;gap:4px;background:var(--glass);
  border:1px solid var(--glass-border);border-radius:var(--radius);padding:3px;
  backdrop-filter:var(--blur-sm);
}
.mode-btn{
  padding:5px 18px;border:none;border-radius:var(--radius-sm);background:transparent;
  color:rgba(255,255,255,0.4);font-family:var(--ff-body);font-size:11px;font-weight:600;
  letter-spacing:0.04em;text-transform:uppercase;cursor:pointer;transition:var(--transition);white-space:nowrap;
}
.mode-btn.active{background:linear-gradient(135deg, var(--saffron), #ff8f5c);color:var(--white);box-shadow:0 2px 16px rgba(255,111,60,0.4)}
.mode-btn:hover{color:rgba(255,255,255,0.7);background:rgba(255,255,255,0.06)}
.mode-label{font-family:var(--ff-mono);font-size:9px;color:rgba(255,255,255,0.3);letter-spacing:0.1em;text-transform:uppercase;font-weight:700}

/* ═══════ TOP BAR ═══════ */
#topbar{
  position:sticky;top:66px;z-index:1000;height:52px;
  background:rgba(8,13,24,0.7);
  backdrop-filter:var(--blur);
  -webkit-backdrop-filter:var(--blur);
  border-bottom:1px solid var(--glass-border);
  display:flex;align-items:center;justify-content:space-between;padding:0 24px;
}
.tb-left{display:flex;align-items:center;gap:14px}
.tb-logo{display:flex;align-items:center;gap:10px}
.tb-shield{
  width:32px;height:32px;
  background:linear-gradient(135deg,var(--s),#CC3300);
  clip-path:polygon(50% 0%,100% 15%,100% 65%,50% 100%,0% 65%,0% 15%);
  display:flex;align-items:center;justify-content:center;
  font-size:13px;font-weight:900;color:#fff;font-family:var(--ff-mono);flex-shrink:0;
  box-shadow:0 0 12px rgba(255,111,60,0.3);
}
.tb-name{font-family:var(--ff-head);font-size:16px;color:var(--white);font-weight:700;letter-spacing:-0.01em}
.tb-name em{color:var(--gold);font-style:italic}
.tb-sub{font-size:9px;color:var(--muted);letter-spacing:0.12em;text-transform:uppercase;margin-top:1px}
.tb-divider{width:1px;height:28px;background:var(--glass-border)}
.tb-codename{
  font-family:var(--ff-mono);font-size:9px;color:var(--gold);letter-spacing:0.2em;text-transform:uppercase;
  background:rgba(224,192,104,0.06);border:1px solid rgba(224,192,104,0.2);border-radius:4px;padding:3px 10px;
}
.tb-right{display:flex;align-items:center;gap:12px}
.tb-clock{font-family:var(--ff-mono);font-size:10px;color:var(--dim);letter-spacing:0.04em;text-align:right}
.live-ind{
  display:flex;align-items:center;gap:6px;
  background:rgba(32,224,112,0.06);border:1px solid rgba(32,224,112,0.2);
  border-radius:20px;padding:4px 12px;
  font-family:var(--ff-mono);font-size:9px;color:var(--green);letter-spacing:0.08em;
}
.live-dot{width:5px;height:5px;border-radius:50%;background:var(--green);animation:blink 2s ease-in-out infinite;box-shadow:0 0 6px rgba(32,224,112,0.5)}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.2}}

/* View switcher */
.view-tabs{
  display:flex;gap:2px;background:var(--glass);
  border:1px solid var(--glass-border);border-radius:8px;padding:3px;
}
.vt{
  padding:4px 14px;border-radius:6px;border:none;
  font-family:var(--ff-body);font-size:10px;font-weight:600;
  letter-spacing:0.05em;text-transform:uppercase;cursor:pointer;transition:all 0.18s;
  color:rgba(255,255,255,0.5);background:transparent;
}
.vt.on{background:var(--glass-lg);color:var(--white);box-shadow:0 2px 8px rgba(0,0,0,0.15);border:1px solid var(--glass-border-light)}
.vt.admin.on{background:rgba(251,113,133,0.1);color:var(--rose);border:1px solid rgba(251,113,133,0.2)}

/* ═══════ SIMULATION CONTROL BAR ═══════ */
#simbar{
  background:rgba(8,13,24,0.6);
  backdrop-filter:var(--blur-sm);
  -webkit-backdrop-filter:var(--blur-sm);
  border-bottom:1px solid var(--glass-border);
  padding:0 24px;display:flex;align-items:center;gap:0;height:50px;overflow-x:auto;
}
.sb-label{font-family:var(--ff-mono);font-size:9px;color:var(--muted);letter-spacing:0.15em;text-transform:uppercase;white-space:nowrap;margin-right:14px;font-weight:600}
.sb-btn{
  padding:6px 14px;border-radius:6px;border:none;
  font-family:var(--ff-body);font-size:10.5px;font-weight:600;cursor:pointer;
  transition:all 0.18s;letter-spacing:0.05em;display:inline-flex;align-items:center;gap:6px;
  margin-right:8px;white-space:nowrap;backdrop-filter:var(--blur-sm);
}
.sb-btn.s{background:var(--sg);color:var(--s);border:1px solid rgba(255,111,60,0.2)}
.sb-btn.s:hover{background:rgba(255,111,60,0.12);border-color:rgba(255,111,60,0.3)}
.sb-btn.g{background:var(--gg);color:var(--g);border:1px solid rgba(32,224,112,0.2)}
.sb-btn.g:hover{background:rgba(32,224,112,0.12)}
.sb-btn.c{background:rgba(96,165,250,0.08);color:var(--blue);border:1px solid rgba(96,165,250,0.2)}
.sb-btn.c:hover{background:rgba(96,165,250,0.12)}
.sb-btn.w{background:rgba(255,179,71,0.08);color:var(--warn);border:1px solid rgba(255,179,71,0.2)}
.sb-sep{width:1px;height:22px;background:var(--bdr);margin:0 10px 0 2px}
.sb-count{font-family:var(--ff-mono);font-size:10px;color:var(--gold);letter-spacing:0.05em;margin-left:auto;white-space:nowrap;font-weight:600}
.sb-count span{color:var(--ink);font-size:11px}

/* ═══════ MAIN GRID LAYOUT ═══════ */
#main{display:flex;gap:0;min-height:calc(100vh - 168px)}
#sidebar{
  width:300px;flex-shrink:0;
  background:rgba(14,21,37,0.4);
  backdrop-filter:var(--blur-sm);
  border-right:1px solid var(--bdr);overflow-y:auto;
}
#content{flex:1;overflow-y:auto;padding:20px;display:grid;gap:16px}
#content.analytics-view{grid-template-columns:1fr 1fr;grid-template-rows:auto;align-content:start}
#content.heatmap-view{grid-template-columns:1fr;align-content:start}

/* ═══════ SIDEBAR ═══════ */
.sb-header{padding:16px 18px;border-bottom:1px solid var(--bdr);display:flex;align-items:center;justify-content:space-between}
.sb-h-title{font-size:10px;font-weight:700;color:var(--dim);letter-spacing:0.1em;text-transform:uppercase}
.sb-h-badge{font-family:var(--ff-mono);font-size:9px;background:rgba(251,113,133,0.08);color:var(--rose);border:1px solid rgba(251,113,133,0.15);border-radius:20px;padding:2px 8px}
#alertFeed{padding:12px;display:flex;flex-direction:column;gap:8px}
.alert-card{
  background:var(--glass);border:1px solid var(--glass-border);
  border-radius:var(--radius-sm);padding:12px;border-left:3px solid;
  animation:slideIn 0.4s ease;backdrop-filter:var(--blur-sm);
}
@keyframes slideIn{from{opacity:0;transform:translateX(-8px)}to{opacity:1;transform:none}}
.alert-card.hotspot{border-left-color:var(--rose)}
.alert-card.trend{border-left-color:var(--warn)}
.alert-card.info{border-left-color:var(--blue)}
.alert-card.ok{border-left-color:var(--g)}
.alert-type{font-family:var(--ff-mono);font-size:8px;letter-spacing:0.12em;text-transform:uppercase;margin-bottom:5px;font-weight:700}
.alert-card.hotspot .alert-type{color:var(--rose)}
.alert-card.trend .alert-type{color:var(--warn)}
.alert-card.info .alert-type{color:var(--blue)}
.alert-card.ok .alert-type{color:var(--g)}
.alert-msg{font-size:11px;color:var(--muted);line-height:1.5}
.alert-time{font-family:var(--ff-mono);font-size:9px;color:var(--dim);margin-top:5px}
.alert-empty{text-align:center;padding:32px 16px;font-size:11px;color:var(--dim);font-style:italic}
.alert-empty span{display:block;font-size:24px;margin-bottom:8px;opacity:0.3}

/* ═══════ CARDS ═══════ */
.card{
  background:var(--glass);border:1px solid var(--glass-border);border-radius:var(--radius);
  overflow:hidden;backdrop-filter:var(--blur);-webkit-backdrop-filter:var(--blur);
  box-shadow:var(--shadow-sm), inset 0 1px 0 rgba(255,255,255,0.04);
  transition:var(--transition);
}
.card:hover{box-shadow:var(--shadow-md), inset 0 1px 0 rgba(255,255,255,0.06);border-color:var(--glass-border-light)}
.card.span2{grid-column:span 2}
.card-head{padding:14px 18px;border-bottom:1px solid var(--glass-border);display:flex;align-items:center;justify-content:space-between}
.card-title{font-size:11px;font-weight:700;color:rgba(255,255,255,0.85);letter-spacing:0.05em;text-transform:uppercase;display:flex;align-items:center;gap:8px}
.card-title .dot{width:7px;height:7px;border-radius:50%}
.card-title .dot.r{background:var(--rose);box-shadow:0 0 6px rgba(251,113,133,0.4)}
.card-title .dot.g{background:var(--g);box-shadow:0 0 6px rgba(32,224,112,0.4)}
.card-title .dot.b{background:var(--blue);box-shadow:0 0 6px rgba(96,165,250,0.4)}
.card-title .dot.o{background:var(--warn);box-shadow:0 0 6px rgba(255,179,71,0.4)}
.card-title .dot.c{background:var(--cyan);box-shadow:0 0 6px rgba(34,211,238,0.4)}
.card-meta{font-family:var(--ff-mono);font-size:9px;color:var(--dim)}
.card-body{padding:18px}

/* KPI strips */
.kpi-strip{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;grid-column:span 2}
.kpi{
  background:var(--glass);border:1px solid var(--glass-border);border-radius:var(--radius);
  padding:16px;position:relative;overflow:hidden;transition:all 0.2s;
  backdrop-filter:var(--blur-sm);
}
.kpi::before{content:'';position:absolute;top:-20px;right:-20px;width:60px;height:60px;border-radius:50%;opacity:0.06}
.kpi.saffron::before{background:var(--s)}
.kpi.green::before{background:var(--g)}
.kpi.rose::before{background:var(--rose)}
.kpi.blue::before{background:var(--blue)}
.kpi:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);border-color:var(--glass-border-light)}
.kpi-label{font-size:9px;font-weight:700;color:var(--dim);letter-spacing:0.1em;text-transform:uppercase;margin-bottom:8px}
.kpi-val{font-family:var(--ff-mono);font-size:28px;font-weight:500;color:var(--ink);line-height:1}
.kpi-val.saffron{color:var(--s);text-shadow:0 0 20px rgba(255,111,60,0.2)}
.kpi-val.green{color:var(--g);text-shadow:0 0 20px rgba(32,224,112,0.2)}
.kpi-val.rose{color:var(--rose);text-shadow:0 0 20px rgba(251,113,133,0.2)}
.kpi-val.blue{color:var(--blue);text-shadow:0 0 20px rgba(96,165,250,0.2)}
.kpi-sub{font-size:10px;color:var(--dim2);margin-top:5px}
.kpi-bar{height:2px;border-radius:1px;margin-top:10px;background:rgba(255,255,255,0.06);overflow:hidden}
.kpi-bar-fill{height:100%;border-radius:1px;transition:width 1s ease}

/* ═══════ HEATMAP ═══════ */
#deptGrid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;padding:18px}
.dept-cell{
  border-radius:var(--radius-sm);padding:14px 12px;cursor:pointer;transition:all 0.2s;
  position:relative;overflow:hidden;min-height:80px;
  display:flex;flex-direction:column;justify-content:space-between;
  backdrop-filter:var(--blur-sm);
}
.dept-cell:hover{transform:scale(1.02);z-index:10;box-shadow:0 8px 24px rgba(0,0,0,0.4)}
.dept-cell.risk-0{background:var(--risk-0);border:1px solid rgba(30,138,73,0.2)}
.dept-cell.risk-1{background:var(--risk-1);border:1px solid rgba(20,90,50,0.3)}
.dept-cell.risk-2{background:var(--risk-2);border:1px solid rgba(30,130,73,0.4)}
.dept-cell.risk-3{background:var(--risk-3);border:1px solid rgba(243,156,18,0.3)}
.dept-cell.risk-4{background:var(--risk-4);border:1px solid rgba(230,126,34,0.4)}
.dept-cell.risk-5{background:var(--risk-5);border:1px solid rgba(231,76,60,0.5)}
.dept-name{font-size:11px;font-weight:700;color:var(--ink);letter-spacing:0.02em}
.dept-count{font-family:var(--ff-mono);font-size:22px;font-weight:500;line-height:1;margin:6px 0}
.dept-cell.risk-0 .dept-count,.dept-cell.risk-1 .dept-count{color:#6ee7b7}
.dept-cell.risk-2 .dept-count{color:#86efac}
.dept-cell.risk-3 .dept-count{color:#fcd34d}
.dept-cell.risk-4 .dept-count{color:#fb923c}
.dept-cell.risk-5 .dept-count{color:#fca5a5}
.dept-tag{font-size:9px;font-weight:700;letter-spacing:0.08em;text-transform:uppercase;padding:2px 7px;border-radius:4px;display:inline-block}
.dept-cell.risk-0 .dept-tag,.dept-cell.risk-1 .dept-tag{background:rgba(110,231,183,0.1);color:#6ee7b7}
.dept-cell.risk-2 .dept-tag{background:rgba(134,239,172,0.1);color:#86efac}
.dept-cell.risk-3 .dept-tag{background:rgba(252,211,77,0.12);color:#fcd34d}
.dept-cell.risk-4 .dept-tag{background:rgba(251,146,60,0.12);color:#fb923c}
.dept-cell.risk-5 .dept-tag{background:rgba(252,165,165,0.12);color:#fca5a5}
.dept-privacy{position:absolute;top:8px;right:8px;font-size:10px;opacity:0.5}
.dept-cell.blurred .dept-count{filter:blur(6px);user-select:none}
.dept-cell.blurred::after{content:'K-ANON BLUR';position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-family:var(--ff-mono);font-size:8px;color:var(--cyan);letter-spacing:0.15em;background:rgba(34,211,238,0.03)}

/* ═══════ CANVAS CHARTS ═══════ */
.chart-wrap{position:relative;padding:18px}
canvas{display:block;width:100%!important}

/* ═══════ SCATTER PLOT ═══════ */
#scatterWrap{position:relative}
.scatter-legend{display:flex;gap:14px;flex-wrap:wrap;margin-bottom:12px;padding:0 18px}
.sl-item{display:flex;align-items:center;gap:6px;font-size:10px;color:var(--muted)}
.sl-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}

/* ═══════ CATEGORY BAR CHART ═══════ */
.cat-list{display:flex;flex-direction:column;gap:10px;padding:18px}
.cat-row{display:flex;align-items:center;gap:10px}
.cat-name{font-size:11px;color:var(--muted);width:110px;flex-shrink:0;text-align:right;padding-right:6px}
.cat-track{flex:1;height:18px;background:rgba(255,255,255,0.04);border-radius:4px;overflow:hidden;position:relative}
.cat-fill{
  height:100%;border-radius:4px;display:flex;align-items:center;justify-content:flex-end;padding-right:8px;
  font-family:var(--ff-mono);font-size:9px;font-weight:700;color:#fff;
  transition:width 1.2s cubic-bezier(0.34,1.56,0.64,1);min-width:24px;
}
.cat-pct{font-family:var(--ff-mono);font-size:10px;color:var(--dim);width:38px;flex-shrink:0}

/* ═══════ METADATA FORM ═══════ */
.meta-form{background:var(--glass-md);border:1px solid var(--glass-border);border-radius:var(--radius);padding:18px;margin-bottom:16px;backdrop-filter:var(--blur-sm)}
.mf-title{
  font-size:10px;font-weight:700;color:var(--saffron);letter-spacing:0.1em;text-transform:uppercase;
  margin-bottom:14px;padding-bottom:10px;border-bottom:1px solid var(--bdr);display:flex;align-items:center;gap:8px;
}
.mf-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.mf-full{grid-column:span 2}
.mf-label{display:block;font-size:10px;font-weight:700;color:var(--muted);letter-spacing:0.04em;text-transform:uppercase;margin-bottom:6px}
.mf-select,.mf-input{
  width:100%;background:rgba(255,255,255,0.04);border:1px solid var(--glass-border);
  border-radius:7px;color:var(--ink);font-size:12px;font-family:var(--ff-body);
  padding:8px 11px;outline:none;transition:all 0.18s;appearance:none;-webkit-appearance:none;
}
.mf-select option{background:#1a2235;color:var(--ink)}
.mf-select:focus,.mf-input:focus{border-color:rgba(255,111,60,0.4);box-shadow:0 0 0 2px rgba(255,111,60,0.1)}

/* Slider */
.slider-wrap{margin-top:4px}
.mf-slider{width:100%;-webkit-appearance:none;appearance:none;height:4px;border-radius:2px;outline:none;cursor:pointer}
.mf-slider.urgency{background:linear-gradient(90deg,var(--g),var(--warn),var(--rose))}
.mf-slider.sentiment{background:linear-gradient(90deg,var(--blue),var(--cyan),var(--g))}
.mf-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;background:var(--ink);border:2px solid var(--s);cursor:pointer;transition:all 0.15s}
.mf-slider::-webkit-slider-thumb:hover{transform:scale(1.2)}
.slider-val{font-family:var(--ff-mono);font-size:12px;font-weight:700;color:var(--s);margin-left:8px;min-width:20px;display:inline-block}
.slider-row{display:flex;align-items:center}

/* ═══════ SIM SUBMIT FORM ═══════ */
.sim-submit-panel{
  background:var(--glass-md);border:1px solid var(--glass-border);border-radius:var(--radius);
  padding:20px;grid-column:span 2;backdrop-filter:var(--blur-sm);
}
.ssp-title{font-family:var(--ff-head);font-size:16px;color:var(--ink);margin-bottom:4px}
.ssp-sub{font-size:11px;color:var(--dim);margin-bottom:16px}
.ssp-row{display:grid;grid-template-columns:repeat(5,1fr);gap:12px;align-items:end}

/* Buttons */
.btn{
  padding:9px 18px;border-radius:8px;border:none;font-family:var(--ff-body);font-size:11px;font-weight:700;
  cursor:pointer;transition:all 0.18s;letter-spacing:0.06em;text-transform:uppercase;
  display:inline-flex;align-items:center;gap:7px;
}
.btn-s{background:linear-gradient(135deg,var(--saffron),#ff8f5c);color:#fff;box-shadow:0 2px 12px rgba(255,111,60,0.3)}
.btn-s:hover{background:linear-gradient(135deg,#E04A00,var(--saffron));transform:translateY(-1px)}
.btn-g{background:rgba(32,224,112,0.08);color:var(--g);border:1px solid rgba(32,224,112,0.2)}
.btn-g:hover{background:rgba(32,224,112,0.15)}
.btn-b{background:rgba(96,165,250,0.08);color:var(--blue);border:1px solid rgba(96,165,250,0.2)}
.btn-b:hover{background:rgba(96,165,250,0.15)}
.btn-dark{background:var(--glass-md);color:var(--muted);border:1px solid var(--glass-border)}

/* ═══════ ADMIN VIEW ═══════ */
#adminView{display:none}
#adminView.on{display:block}
#analyticsView.hidden{display:none}
.admin-banner{
  background:rgba(251,113,133,0.05);border:1px solid rgba(251,113,133,0.15);
  border-radius:var(--radius);padding:16px 20px;margin-bottom:16px;
  display:flex;align-items:center;gap:14px;backdrop-filter:var(--blur-sm);
}
.admin-banner-icon{font-size:28px;flex-shrink:0}
.admin-banner-t{font-size:13px;font-weight:700;color:var(--rose)}
.admin-banner-s{font-size:11px;color:var(--dim);margin-top:3px;line-height:1.5}
.admin-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
.admin-record{background:var(--glass);border:1px solid var(--glass-border);border-radius:var(--radius-sm);padding:14px;position:relative;backdrop-filter:var(--blur-sm)}
.admin-record-id{font-family:var(--ff-mono);font-size:9px;color:var(--dim);margin-bottom:10px}
.admin-record-meta{display:flex;flex-direction:column;gap:5px;margin-bottom:12px}
.arm{display:flex;justify-content:space-between;font-size:10.5px;border-bottom:1px solid var(--glass-border);padding-bottom:4px}
.arm-k{color:var(--dim);font-family:var(--ff-mono);font-size:9px}
.arm-v{color:var(--muted);font-weight:600}
.admin-blob{
  background:rgba(255,255,255,0.02);border-radius:6px;padding:8px 10px;
  font-family:var(--ff-mono);font-size:8px;color:var(--dim2);word-break:break-all;
  line-height:1.6;max-height:48px;overflow:hidden;position:relative;
}
.admin-blob::after{content:'';position:absolute;bottom:0;left:0;right:0;height:16px;background:linear-gradient(transparent,rgba(14,21,37,0.8))}
.btn-disabled{
  width:100%;justify-content:center;margin-top:10px;background:var(--glass);color:var(--dim2);
  border:1px solid var(--glass-border);border-radius:7px;padding:8px;font-size:10px;font-weight:700;
  letter-spacing:0.06em;text-transform:uppercase;display:flex;align-items:center;gap:6px;
  cursor:not-allowed;user-select:none;
}
.admin-sys-health{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:16px}
.ash{background:var(--glass);border:1px solid var(--glass-border);border-radius:var(--radius-sm);padding:14px;text-align:center;backdrop-filter:var(--blur-sm)}
.ash-val{font-family:var(--ff-mono);font-size:20px;color:var(--ink);margin-bottom:4px}
.ash-lbl{font-size:9px;color:var(--dim);letter-spacing:0.1em;text-transform:uppercase}

/* Privacy blur toggle */
.privacy-toggle{
  display:flex;align-items:center;gap:10px;padding:8px 14px;
  background:rgba(34,211,238,0.04);border:1px solid rgba(34,211,238,0.12);
  border-radius:8px;margin-bottom:14px;font-size:11px;color:var(--cyan);
  cursor:pointer;transition:all 0.18s;user-select:none;
}
.privacy-toggle:hover{background:rgba(34,211,238,0.08)}
.pt-check{
  width:18px;height:18px;border-radius:5px;background:var(--cyan);color:#080d18;
  display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:700;
  flex-shrink:0;transition:all 0.18s;
}
.pt-check.off{background:rgba(255,255,255,0.06);color:transparent}

/* Tooltip */
.tooltip{
  position:absolute;bottom:calc(100% + 8px);left:50%;transform:translateX(-50%);
  background:rgba(14,21,37,0.9);border:1px solid var(--glass-border-light);
  border-radius:8px;padding:10px 12px;font-size:11px;color:var(--muted);line-height:1.5;
  white-space:nowrap;z-index:100;pointer-events:none;
  box-shadow:0 8px 24px rgba(0,0,0,0.4);backdrop-filter:var(--blur);
  opacity:0;transition:opacity 0.18s;
}
.dept-cell:hover .tooltip{opacity:1}

/* Hotspot badge */
.hotspot-badge{
  position:absolute;top:-6px;right:-6px;width:16px;height:16px;border-radius:50%;
  background:var(--rose);border:2px solid rgba(14,21,37,0.8);
  font-size:8px;font-weight:700;color:#fff;display:flex;align-items:center;justify-content:center;
  font-family:var(--ff-mono);animation:pulse-ring 2s ease-in-out infinite;
}
@keyframes pulse-ring{0%{box-shadow:0 0 0 0 rgba(251,113,133,0.5)}70%{box-shadow:0 0 0 8px rgba(251,113,133,0)}100%{box-shadow:0 0 0 0 rgba(251,113,133,0)}}

/* Correlation legend */
.corr-legend{display:flex;flex-wrap:wrap;gap:12px;padding:0 18px 10px}
.cl-item{display:flex;align-items:center;gap:5px;font-size:10px;color:var(--muted)}
.cl-swatch{width:10px;height:10px;border-radius:3px}

/* Privacy blur notice */
.blur-notice{
  display:inline-flex;align-items:center;gap:6px;
  background:rgba(34,211,238,0.05);border:1px solid rgba(34,211,238,0.15);
  border-radius:20px;padding:3px 10px;font-family:var(--ff-mono);font-size:9px;color:var(--cyan);
}

/* ═══════ RESPONSIVE ═══════ */
@media(max-width:1100px){
  #content.analytics-view{grid-template-columns:1fr}
  .kpi-strip{grid-template-columns:1fr 1fr;grid-column:span 1}
  .card.span2{grid-column:span 1}
  .ssp-row{grid-template-columns:1fr 1fr;gap:8px}
  .sim-submit-panel{grid-column:span 1}
  #deptGrid{grid-template-columns:repeat(3,1fr)}
}
@media(max-width:800px){
  #main{flex-direction:column}
  #sidebar{width:100%;max-height:300px}
  .admin-grid{grid-template-columns:1fr}
  .admin-sys-health{grid-template-columns:1fr 1fr}
  #deptGrid{grid-template-columns:repeat(2,1fr)}
}
